<!doctype html>
<!-- To load this page, go to the project folder and run a http server using Python python -m SimpleHTTPServer -->
<html lang="en" ng-app="portfolioCharts">
<head>
  <meta charset="utf-8">

  <title>Portfolio Charts</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="styles/main.css">
</head>

<body ng-controller="mainController">

  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <form class="navbar-form">
        <input class=" form-control navbar-left" type="text" placeholder="Filter on scrip..." ng-model="searchText" id="searchBar"/>
        <div class="navbar-right">
          <label class="navbar-text labelAdj">Reset all timeperiods to</label>
          <input type="radio" name="period" value="5d" ng-click="model.defaultPeriod='5d'"/>5d
          <input type="radio" name="period" value="3m" ng-click="model.defaultPeriod='3m'"/>3m
          <input type="radio" name="period" value="1y" ng-click="model.defaultPeriod='1y'" checked=true/>1y
        </div>
      </form>
    </div>
  </nav>

  <div class="container-fluid">

    <div class="tile" ng-dblclick="model.redirect(company.scrip)" ng-repeat="company in model.companyList | filter: searchText "> <!-- track by company.scrip -->
      <!-- <img ng-src="{{ model.getChartURL(company.scrip) }}" alt=""> -->
      <img ng-src="{{ company.chartURL }}" alt="">
      <div class="buyPrice">{{ company.buyPrice }}</div>
      <div>
        <a href="" class="timeLink" ng-click="model.updateChart(company, '5d')">5d</a>
        <a href="" class="timeLink" ng-click="model.updateChart(company, '3m')">3m</a>
        <a href="" class="timeLink" ng-click="model.updateChart(company, '1y')">1y</a>
      </div>
    </div>

  </div>

  <script type="text/javascript" src="lib/angular.js"></script>
  <script type="text/javascript" src="scripts/controllers/mainController.js"></script>

</body>
</html>